(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{"0902":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{staticClass:"column items-center justify-center no-wrap projectScreen",class:{"q-pb-xl q-pl-xl q-pr-xl":t.disableDocumentControlBar,"q-pa-xl":!t.disableDocumentControlBar}},[a("newDocumentDialog",{attrs:{"dialog-trigger":t.newObjectDialogTrigger},on:{"trigger-dialog-close":t.newObjectDialogClose}}),a("deleteDocumentCheckDialog",{attrs:{"dialog-trigger":t.deleteObjectDialogTrigger,"document-id":t.toDeleteID,"document-type":t.toDeleteType},on:{"trigger-dialog-close":t.deleteObjectDialogClose}}),a("div",{staticClass:"col-12"},[a("h5",{staticClass:"mainProjectSubTitle"},[t._v("Project overview for ")])]),a("div",{staticClass:"col-12"},[a("h2",{staticClass:"mainProjectTitle"},[t._v(" "+t._s(t.projectName))])]),!t.hideTooltipsProject&&t.allDocuments>0?a("div",{staticClass:"hintWrapper"},[t.hidePlushes?a("div",[a("q-icon",{staticClass:"q-mr-md",attrs:{name:"mdi-help",size:"30px"}})],1):t._e(),t.hidePlushes?t._e():a("div",{staticClass:"mascotWrapper"},[a("q-img",{staticStyle:{"max-width":"135px",height:"100%"},attrs:{src:t.plusheForm,contain:""}})],1),a("div",[a("div",{staticClass:"text-subtitle1 text-dark text-bold text-left"},[t._v("\n          Did you know?\n        ")]),a("div",{staticClass:"text-weight-medium text-dark text-left"},[t._v("\n          "+t._s(t.tipTrickMessage)+"\n        ")])])]):t._e(),a("div",{staticClass:"projectContentWrapper"},[a("div",{staticClass:"documentGraphParent",class:{"-fullsize":!t.graphDataShowing}},[a("q-card",{staticClass:"documentGraphWrapper",class:{"-fullsize":!t.graphDataShowing},attrs:{dark:""}},[a("transition",{attrs:{"enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut",duration:600}},[a("q-card-section",{directives:[{name:"show",rawName:"v-show",value:!t.graphDataLoaded,expression:"!graphDataLoaded"}],staticClass:"flex justify-center flex-center",staticStyle:{height:"500px"},attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-spinner-gears",{attrs:{color:"primary",size:"160px"}})],1)],1),a("transition",{attrs:{"enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut",duration:600}},[a("q-card-section",{directives:[{name:"show",rawName:"v-show",value:t.graphDataShowing&&0===t.allDocuments,expression:"graphDataShowing && allDocuments === 0"}],staticClass:"flex justify-center flex-center column",staticStyle:{height:"500px"},attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("div",{staticClass:"row justify-center flex-center"},[a("div",{staticClass:"col-12 q-mb-xl"},[a("h6",{staticClass:"q-my-xs text-center"},[t._v("Welcome to your new project! Feel free to look around or...")])]),a("div",{staticClass:"col-12 q-mt-md q-mb-xl text-center"},[a("q-btn",{staticClass:"q-px-xl q-py-xs",attrs:{color:"primary",size:"lg",outline:""},on:{click:t.newObjectAssignUID}},[t._v("\n              Create your first document!\n              ")])],1)])])],1),a("transition",{attrs:{"enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut",appear:"",duration:600}},[a("q-card-section",{directives:[{name:"show",rawName:"v-show",value:t.graphDataShowing&&t.allDocuments>0,expression:"graphDataShowing && allDocuments > 0"}],attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("h5",{staticClass:"q-px-xl q-my-lg"},[t._v("\n              Document distribution - "),a("span",{staticClass:"text-bold text-primary"},[t._v(t._s(t.allDocuments))]),t._v(" total\n            ")]),t.graphDataShowing?a("apexchart",{attrs:{type:"bar",height:"350",width:"900",options:t.chartOptions,series:t.series}}):t._e()],1)],1)],1)],1),t.allDocuments>0&&t.graphDataShowing?a("div",{staticClass:"lastOpenedList"},[a("q-card",{attrs:{dark:""}},[a("transition",{attrs:{"enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut",duration:600}},[a("q-card-section",{directives:[{name:"show",rawName:"v-show",value:!t.graphDataLoaded,expression:"!graphDataLoaded"}],staticClass:"flex justify-center flex-center",staticStyle:{height:"500px"},attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-spinner-gears",{attrs:{color:"primary",size:"160px"}})],1)],1),a("transition",{attrs:{"enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut",duration:600}},[a("q-card-section",{directives:[{name:"show",rawName:"v-show",value:t.graphDataShowing,expression:"graphDataShowing"}]},[a("h5",{staticClass:"q-px-md q-mt-lg q-mb-xs"},[t._v("Last opened")]),t.lastOpenedDocuments.length>0?a("q-list",{staticClass:"q-pa-md lastOpenedListInner"},t._l(t.lastOpenedDocuments,(function(e){return a("div",{key:e._id,staticClass:"lastOpenedItem"},[a("q-item",{staticClass:"text-accent q-px-sm",attrs:{clickable:"",to:e.url},on:{mouseleave:t.setDocumentPreviewClose}},[t.preventPreviewsDocuments?t._e():a("documentPreview",{attrs:{"custom-anchor":"center left","custom-self":"center right","document-id":e._id,"external-close-trigger":t.documentPreviewClose}}),a("q-item-section",{staticClass:"q-px-sm",attrs:{avatar:""}},[a("q-icon",{attrs:{size:e.icon.includes("fas")||e.icon.includes("fab")?"16px":"21px",name:e.isCategory?"fas fa-folder-open":e.icon}})],1),a("q-item-section",[a("span",{staticClass:"text-weight-medium"},[e.isDead?a("span",{staticClass:"isDeadIndicator"},[t._v("\n                        â€ \n                      ")]):t._e(),a("span",{class:{isDead:e.isDead&&!t.hideDeadCrossThrough}},[t._v("\n                          "+t._s(t.stripTags(e.label))+"\n                      ")])])]),a("q-menu",{attrs:{"touch-position":"","context-menu":"","auto-close":"","separate-close-popup":""}},[a("q-list",{staticClass:"bg-gunmetal-light text-accent"},[[a("q-item",{attrs:{clickable:""},on:{click:function(a){return t.copyName(e)}}},[a("q-item-section",[t._v("Copy name")]),a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:"mdi-text-recognition"}})],1)],1),a("q-item",{attrs:{clickable:""},on:{click:function(a){return t.copyTextColor(e)}}},[a("q-item-section",[t._v("Copy text color")]),a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:"mdi-eyedropper"}})],1)],1),a("q-item",{attrs:{clickable:""},on:{click:function(a){return t.copyBackgroundColor(e)}}},[a("q-item-section",[t._v("Copy background color")]),a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:"mdi-format-color-fill"}})],1)],1),a("q-separator",{attrs:{dark:""}}),a("q-item",{attrs:{clickable:""},on:{click:function(a){return t.openExistingInput(e)}}},[a("q-item-section",[t._v("Open document")]),a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:"mdi-book-open-page-variant-outline"}})],1)],1),a("q-item",{attrs:{clickable:""},on:{click:function(a){return t.editExistingInput(e)}}},[a("q-item-section",[t._v("Edit document")]),a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:"mdi-pencil"}})],1)],1),a("q-item",{attrs:{clickable:""},on:{click:function(a){return t.openDocumentPreviewPanel(e._id)}}},[a("q-item-section",[t._v("Preview document in split-view mode")]),a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:"mdi-file-search-outline"}})],1)],1),a("q-item",{attrs:{clickable:""},on:{click:function(a){return t.addNewUnderParent(e)}}},[a("q-item-section",[t._v("Create new document with this document as parent")]),a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{color:"primary",name:"mdi-file-tree"}})],1)],1),a("q-item",{attrs:{clickable:""},on:{click:function(a){return t.copyTargetDocument(e)}}},[a("q-item-section",[t._v("Copy this document")]),a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{color:"primary",name:"mdi-content-copy"}})],1)],1),a("q-separator",{attrs:{dark:""}}),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(a){return t.triggerExport(e)}}},[a("q-item-section",[t._v("Export document")]),a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:"mdi-database-export-outline"}})],1)],1),a("q-separator",{attrs:{dark:""}}),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(a){return t.deleteTabDocument(e)}}},[a("q-item-section",{staticClass:"text-secondary"},[a("b",[t._v("Delete this document")])]),a("q-item-section",{staticClass:"text-secondary",attrs:{avatar:""}},[a("q-icon",{attrs:{name:"mdi-text-box-remove-outline"}})],1)],1)]],2)],1)],1),a("q-separator",{attrs:{dark:""}})],1)})),0):t._e()],1)],1)],1)],1):t._e()])],1)},i=[],o=a("60a3"),n=a("f987"),r=a("f508"),c=a("bc78"),l=a("1732"),d=a("11ec"),p=a("bdb3"),h=a("e3e6"),u=a("8bdf"),m=a("b357"),g=a("194f"),v=a("2a2b"),f=a("0e86"),D=a("d263"),b=a("aba7"),x=function(t,e,a,s){var i,o=arguments.length,n=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,a):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)n=Reflect.decorate(t,e,a,s);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(n=(o<3?i(n):o>3?i(e,a,n):i(e,a))||n);return o>3&&n&&Object.defineProperty(e,a,n),n},w=function(t,e,a,s){function i(t){return t instanceof a?t:new a((function(e){e(t)}))}return new(a||(a=Promise))((function(a,o){function n(t){try{c(s.next(t))}catch(e){o(e)}}function r(t){try{c(s["throw"](t))}catch(e){o(e)}}function c(t){t.done?a(t.value):i(t.value).then(n,r)}c((s=s.apply(t,e||[])).next())}))};let q=class extends n["a"]{constructor(){super(...arguments),this.hideDeadCrossThrough=!1,this.preventPreviewsDocuments=!1,this.hidePlushes=!1,this.disableDocumentControlBar=!1,this.hideTooltipsProject=!1,this.projectName="",this.tipTrickMessage="",this.plusheForm="",this.allDocuments=0,this.graphDataLoaded=!1,this.graphDataShowing=!1,this.lastOpenedDocuments=[],this.documentPass=null,this.documentPreviewClose="",this.series=[{name:"Documents",data:[]}],this.chartOptions={},this.newObjectDialogTrigger=!1,this.deleteObjectDialogTrigger=!1,this.toDeleteID="",this.toDeleteType=""}onSettingsChange(){const t=this.SGET_options;this.hideTooltipsProject=t.hideTooltipsProject,this.hidePlushes=t.hidePlushes,this.disableDocumentControlBar=t.disableDocumentControlBar,this.hideDeadCrossThrough=this.SGET_options.hideDeadCrossThrough,this.preventPreviewsDocuments=this.SGET_options.preventPreviewsDocuments}created(){this.projectName=this.SGET_getProjectName,r["a"].hide(),this.tipTrickMessage=u["a"][Math.floor(Math.random()*u["a"].length)],this.plusheForm=m["a"][Math.floor(Math.random()*m["a"].length)],this.SGET_getProjectLoadedStatus&&(this.loadGraphData().catch((t=>console.log(t))),this.loadLastOpenedList().catch((t=>console.log(t))))}checkProjectStatus(){this.projectName=this.SGET_getProjectName}reactToProjectLoaded(){this.SGET_getProjectLoadedStatus&&(this.loadGraphData().catch((t=>console.log(t))),this.loadLastOpenedList().catch((t=>console.log(t))))}loadGraphData(){return w(this,void 0,void 0,(function*(){this.populateChartOptions();const t=this.SGET_allBlueprints;for(const e of t){const t=this.SGET_allDocumentsByType(e._id).docs.length;this.allDocuments=this.allDocuments+t,this.series[0].data.push(t),this.chartOptions.xaxis.categories.push(e.namePlural)}this.graphDataLoaded=!0,yield this.sleep(600),this.graphDataShowing=!0}))}addNewUnderParent(t){Object(f["a"])(t,this)}reactToAllDocumentListChange(){this.SGET_allDocumentsFirstRunState||this.loadLastOpenedList().catch((t=>console.log(t)))}loadLastOpenedList(){return w(this,void 0,void 0,(function*(){const t=yield Object(h["f"])();this.lastOpenedDocuments=t.map((t=>this.SGET_document(t))).filter((t=>t))}))}copyName(t){Object(g["b"])(t)}copyTextColor(t){Object(g["c"])(t)}copyBackgroundColor(t){Object(g["a"])(t)}copyTargetDocument(t){this.documentPass=Object(d["a"])(!0,{},t);const e=this.SGET_blueprint(this.documentPass.type),a=Object(v["a"])(this.documentPass,this.generateUID(),e),s={doc:a,treeAction:!1};this.SSET_addOpenedDocument(s),this.$router.push({path:a.url}).catch((t=>{const e=t.name;"NavigationDuplicated"!==e&&console.log(t)}))}openExistingInput(t){t=Array.isArray(t)?t[0]:t,this.openExistingDocumentRoute(t)}editExistingInput(t){t=Array.isArray(t)?t[0]:t,this.openExistingDocumentRouteWithEdit(t)}triggerExport(t){this.SSET_setExportDialogState([t._id])}setDocumentPreviewClose(){this.documentPreviewClose=Object(l["a"])()}populateChartOptions(){this.chartOptions={colors:[c["a"].getBrand("primary")],animations:{enabled:!0,easing:"easeinout",speed:1e3},grid:{show:!1},states:{hover:{filter:{type:"none"}},active:{filter:{type:"none"}}},chart:{height:350,type:"bar",toolbar:{show:!1}},plotOptions:{bar:{borderRadius:4,dataLabels:{position:"center"}}},dataLabels:{dropShadow:{enabled:!0,top:1,left:1,blur:1,color:"#000",opacity:.65},enabled:!0,formatter:function(t){return t},offsetY:20,style:{fontSize:"14px",fontFamily:"Roboto, -apple-system, Helvetica Neue, Helvetica, Arial, sans-serif;",colors:["#fff"]}},xaxis:{categories:[],position:"bottom",labels:{style:{fontFamily:"Roboto, -apple-system, Helvetica Neue, Helvetica, Arial, sans-serif;",colors:c["a"].getBrand("accent"),cssClass:"docCountLabel"}},axisBorder:{show:!0},axisTicks:{show:!1},tooltip:{enabled:!1},crosshairs:{fill:{type:"gradient",gradient:{colorFrom:"transparent",colorTo:"transparent",stops:[0,100],opacityFrom:0,opacityTo:0}}}},yaxis:{axisBorder:{show:!1},tooltip:{enabled:!1},axisTicks:{show:!1},labels:{show:!1,formatter:function(t){return t},style:{fontSize:"14px",fontFamily:"Roboto, -apple-system, Helvetica Neue, Helvetica, Arial, sans-serif;",colors:"#dcdcdc"}}}}}newObjectDialogClose(){this.newObjectDialogTrigger=!1}newObjectAssignUID(){this.newObjectDialogTrigger=this.generateUID()}deleteObjectDialogClose(){this.deleteObjectDialogTrigger=!1}deleteObjectAssignUID(){this.deleteObjectDialogTrigger=this.generateUID()}deleteTabDocument(t){this.toDeleteID=t._id,this.toDeleteType=t.type,this.deleteObjectAssignUID()}};x([Object(o["e"])("SGET_options",{immediate:!0,deep:!0})],q.prototype,"onSettingsChange",null),x([Object(o["e"])("SGET_getProjectName")],q.prototype,"checkProjectStatus",null),x([Object(o["e"])("SGET_getProjectLoadedStatus")],q.prototype,"reactToProjectLoaded",null),x([Object(o["e"])("SGET_allDocuments",{deep:!0})],q.prototype,"reactToAllDocumentListChange",null),q=x([Object(o["a"])({components:{newDocumentDialog:p["a"],deleteDocumentCheckDialog:D["a"],documentPreview:b["default"]}})],q);var y=q,C=y,j=(a("531c"),a("122c"),a("2877")),_=a("9989"),O=a("0016"),T=a("068f"),S=a("f09f"),P=a("a370"),k=a("cf57"),E=a("9c40"),L=a("1c1c"),I=a("66e5"),G=a("4074"),N=a("4e73"),A=a("eb85"),B=a("b498"),Q=a("7f67"),F=a("eebe"),R=a.n(F),z=Object(j["a"])(C,s,i,!1,null,"9aee3c08",null);e["default"]=z.exports;R()(z,"components",{QPage:_["a"],QIcon:O["a"],QImg:T["a"],QCard:S["a"],QCardSection:P["a"],QSpinnerGears:k["a"],QBtn:E["a"],QList:L["a"],QItem:I["a"],QItemSection:G["a"],QMenu:N["a"],QSeparator:A["a"],QColor:B["a"]}),R()(z,"directives",{ClosePopup:Q["a"]})},"122c":function(t,e,a){"use strict";a("49c7")},"49c7":function(t,e,a){},"531c":function(t,e,a){"use strict";a("69e5")},"69e5":function(t,e,a){}}]);